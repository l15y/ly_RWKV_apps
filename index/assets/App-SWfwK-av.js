import{h as t,u as e,i as n,o as s,A as a,w as i,f as o,t as l,a as r,k as p,J as c,v as u,L as d,I as m,d as g,_,j as f,G as y,W as w,X as I,Z as b}from"./index-BdOslMqv.js";import{u as h}from"./Store-mQ17q6OZ.js";const Q=_(t({__name:"Menu",setup(t){const _=h(),{t:f}=e();function y(t){let e={III:3,II:2,IV:4,IX:9,XL:40,XC:90,CD:400,CM:900,I:1,V:5,X:10,L:50,C:100,D:500,M:1e3},n=0;for(var s in e)-1!=t.indexOf(s)&&(t=t.split(s).join(""),n+=e[s]);return n}const w=async()=>{_.tigang="",_.tigangs=[];const t={prompt:[`Instruction: ${f("write.prompt1")} ${_.title}\n\nInput: ${f("write.prompt2")}\n\nResponse:`],max_tokens:400,temperature:.9,top_p:.3,presence_penalty:.3,frequency_penalty:.3,penalty_decay:Math.exp(-.69314718055994/400),stop:["\n\n","\nQ:","\nUser:","\nQuestion:","\n\nQ:","\n\nUser:","\n\nQuestion:","Q:","User:","Question:"],stream:!1};window.Ai00Api.oai_completions(t,(async t=>{let e=t.choices[0].text.split(/\n(?=[A-Z]+\.\s)/);e=e.map((t=>{let e=t.split("\n");for(let n=1;n<e.length;n++)e[n]=e[n].replace(/-\s/,`${n}. `);return e.join("\n")}));let n=e.join("\n").split("\n");for(let s in n){let t=n[s];if(""==t)continue;if(t=t.split("."),t.length<2)continue;y(t[0]);_.tigang+=n[s]+"\n"}_.tigang.replace(/(User:)+/g,"")}))};n((()=>_.tigang),(t=>{_.tigangs=[];let e=t.split("\n");for(let n in e){let t=e[n];if(""==t)continue;if(t=t.split("."),t.length<2)continue;let s=y(t[0]);if(s<=0||100==s){let s={title:e[n],content:"",loading:!0,prompt:`\nInstruction: ${f("write.prompt3")} ${_.title}\n\nInput: ${f("write.prompt4")} ${t[1]}\n\nResponse:`};_.tigangs.push(s),s.loading=!1}else _.tigangs.push({title:e[n],content:"",type:"title"})}}));const I=async()=>{for(let t in _.tigangs){let e=_.tigangs[t];if("title"!=e.type&&e.prompt){e.content="",e.loading=!0;let t={prompt:[e.prompt],max_tokens:1e3,temperature:.9,top_p:.3,presence_penalty:.3,frequency_penalty:.3,penalty_decay:Math.exp(-.69314718055994/400),stop:["\n\n","\nQ:","\nUser:","\nQuestion:","\n\nQ:","\n\nUser:","\n\nQuestion:","Q:","User:","Question:"],stream:!0};window.Ai00Api.oai_completions(t,(async t=>{e.content=t}))}}};return(t,e)=>(s(),a(g,{class:"rr d-none d-md-block sidebar","prepend-icon":"mdi-cog"},{title:i((()=>[o(l(t.$t("write.settings")),1)])),text:i((()=>[r(c,{variant:"outlined",label:p(f)("write.title"),modelValue:p(_).title,"onUpdate:modelValue":e[0]||(e[0]=t=>p(_).title=t)},null,8,["label","modelValue"]),r(u,{color:"primary",block:"",size:"large",class:"mb-3",onClick:w},{default:i((()=>[o(l(t.$t("write.step1")),1)])),_:1}),r(d,{modelValue:p(_).tigang,"onUpdate:modelValue":e[1]||(e[1]=t=>p(_).tigang=t),"row-height":"30",rows:"15"},null,8,["modelValue"]),r(m),r(u,{color:"primary",block:"",size:"large",class:"mb-3",onClick:I},{default:i((()=>[o(l(t.$t("write.step2")),1)])),_:1})])),_:1}))}}),[["__scopeId","data-v-9b2b392f"]]),$={class:"d-none d-md-block sidebar",color:"primary"},k={class:"main"},x=_(t({__name:"App",setup:t=>(t,e)=>{const n=f("router-view");return s(),a(b,{class:"app-container"},{default:i((()=>[y("div",$,[r(Q)]),y("div",k,[r(n,null,{default:i((({Component:t})=>[r(w,{name:"fade"},{default:i((()=>[(s(),a(I(t)))])),_:2},1024)])),_:1})])])),_:1})}}),[["__scopeId","data-v-0e215861"]]);export{x as default};
